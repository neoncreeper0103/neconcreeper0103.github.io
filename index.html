<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
        body
        {
            /* 이게 텍스트 드래그를 막아준다더라 */
            -webkit-user-select:none;
            -moz-user-select:none;
            -ms-user-select:none;
            user-select:none;
        }
        div
        {
            text-align: center;
        }
        img
        {
            height: 100px;
        }
        td
        {
            width: 150px;
            height: 100px;
        }
        .bookable
        {
            background-color: rgb(0, 216, 0);
        }
        .booked
        {
            background-color: red;
        }
    </style>
    <script>
        function makeTable()
        {
            let table = "";

            table += "<tr>";
            table += "<td><img src='../source/차차.jpg'></td>";

            const days = ["월", "화", "수", "목", "금", "토", "일"];

            for(const day of days)
            {
                table += "<td>";
                table += day;
                table += "</td>";
            }
            table += "</tr>"
            
            // 나머지는 for문 돌리기
            for(let i = 1; i <= 8; i++)
            {
                table += "<tr>";
                for(let j = 1; j <= 8; j++)
                {
                    if(j == 1)
                    {
                        table += "<td>";
                        table += String(i) + "시";
                        table += "</td>";
                    }
                    else
                    {
                        table += "<td class=\"bookable\" onclick=\"book(this)\">";
                        table += "예약 가능";
                        table += "</td>";
                    }
                }
                table += "</tr>";
            }

            document.getElementById("mainTable").innerHTML = table;
        }
        
        // 예약 함수
        function book(cell)
        {
            if(confirm("예약하시겠습니까?"))
            {
                cell.className = "booked";
                cell.innerText = "예약 완료";
                // gpt에서 추천한 문법...setAttribute는 안쓰인다고 한다
                cell.onclick = () => unbook(cell);
            }
        }

        // 예약취소 함수
        function unbook(cell)
        {
            if(confirm("예약을 취소하시겠습니까?"))
            {
                cell.className = "bookable";
                cell.innerText = "예약 가능";
                // 얘도 마찬가지
                cell.onclick = () => book(cell);
            }
        }

    </script>
</head>
<body>
    <div>
        <table id="mainTable" border="1"></table>
    </div>

    <script>
        makeTable();
    </script>
</body>
</html>
